# Granola MCP Server

Local MCP server for Granola meeting notes with API key authentication.

## Prerequisites

- Node.js 18+
- Granola Enterprise plan with API access
- Workspace admin permissions to generate API key

## Setup

1. Install dependencies:
   ```bash
   npm install
   ```

2. Build:
   ```bash
   npm run build
   ```

3. Configure your API key (get it from Granola: Settings → Workspaces → API tab):
   ```bash
   node dist/cli.js configure --api-key grn_your_api_key_here
   ```

   Alternatively, set the `GRANOLA_API_KEY` environment variable.

4. Check status:
   ```bash
   node dist/cli.js status
   ```

## Usage

### Start the MCP server

```bash
node dist/cli.js serve
```

### Add to Claude Code

Add to your `.mcp.json`:

```json
{
  "mcpServers": {
    "granola": {
      "command": "node",
      "args": [
        "/path/to/granola-mcp/dist/cli.js",
        "serve"
      ]
    }
  }
}
```

Or with environment variable:

```json
{
  "mcpServers": {
    "granola": {
      "command": "node",
      "args": [
        "/path/to/granola-mcp/dist/cli.js",
        "serve"
      ],
      "env": {
        "GRANOLA_API_KEY": "grn_your_api_key"
      }
    }
  }
}
```

## Available Tools

| Tool | Description |
|------|-------------|
| `list_notes` | List meeting notes with optional date filters |
| `get_note` | Get a specific note by ID (with optional transcript) |
| `get_all_notes` | Get all notes in a date range (auto-pagination) |
| `get_recent_notes` | Get notes from the last N days |

## API Reference

Based on [Granola API Documentation](https://docs.granola.ai/introduction)

### Rate Limits

- Burst: 25 requests per 5-second window
- Sustained: 5 requests/second (300/minute)

### Note ID Format

Note IDs follow the pattern: `not_XXXXXXXXXXXXXX` (14 alphanumeric characters after prefix)

## Architecture

```
src/
├── cli.ts          # CLI entry point (configure/serve/status)
├── server.ts       # MCP server with tool definitions
├── granola-api.ts  # Granola API client
├── config.ts       # API key storage
└── index.ts        # Package exports

credentials/
└── config.json     # API key (auto-generated by configure command)
```

## Why This Over the Official Granola MCP?

The official Granola MCP uses OAuth tokens that expire frequently, making automation difficult. This server uses API keys which:

- Don't expire (until manually revoked)
- Are simpler to configure
- Work better for automated/scheduled tasks
